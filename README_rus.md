# Эмулятор управление лабораторного прибора
# многопоточное программирование

Устройство:

Лабораторный прибор состоит из насоса и двух датчиков давления - Д1, Д2. Насос управляется командами
- Включить с заданной скоростью
- Останавить

Каждый датчик давления управляется командами
- Установить давление
- Сбросить давление до нуля

*************************************************

Работа эмулятора:

- Обработчик команд выполняется в отдельном потоке, в обработчике предусмотрен порядок выполнения команд.

- Возможна подача команд пользователем через консоль.

- Обработчик выполняет команды с заданным периодом. Когда следующий период заканчивается, обработчик извлекает из очереди одну команду и выполняет ее, а затем приостанавливается до конца нового периода.

- Если в очереди нет команд, обработчик обновляет состояние устройства:

*************************************************

-> Для насоса:
- Текущий режим работы: «Остановлено» / «Скорость»

- Текущая скорость. Если насос включен, т.е. в режиме «Скорость», текущая скорость равна заданной
по команде плюс небольшой случайный шум. Если отключено, текущая скорость точно равна 0.

-> Для датчиков давления D1, D2:
- Текущее давление каждого датчика. Давление равно заданному (в том числе если датчик был обнулен по команде) плюс небольшой случайный шум.

- Разность давлений D1 минус D2.

*************************************************

Новые команды в течение периода действия не пробуждают поток, а ставятся в очередь.

- Предусмотрена возможность изменения периода непосредственно в процессе работы. При изменении периода поток просыпается, не дожидаясь окончания текущего периода.

- Реализована возможность аккуратно закрыть программу. При закрытии обработчик просыпается и завершает свой поток выполнения, не дожидаясь окончания текущего периода. Программа ожидает завершения потока, а затем закрывается.

- Реализована возможность отображения текущего состояния устройства на экране по запросу.
